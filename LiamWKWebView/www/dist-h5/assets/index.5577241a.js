import{L as u,o as g,a as c,c as p,b as s,F as m,d as a,r as h,e as f,f as v}from"./vendor.e1f2af96.js";function V(){import("data:text/javascript,")}const _=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}};_();var d=(t,e)=>{const i=t.__vccOpts||t;for(const[r,o]of e)i[r]=o;return i};const b={name:"LinkChannel",props:{msg:String},data(){return{count:10}},methods:{clear(){document.getElementById("msgOutput").innerHTML=""},showLog(t){typeof t=="object"&&(t=JSON.stringify(t));let e=new Date;t="["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"] "+t,console.log("log:",t);let r=document.getElementById("msgOutput");r.innerHTML=t+"<br>"+r.innerHTML},callBack(t){typeof t=="object"?this.showLog("[back]"+JSON.stringify(t)):this.showLog("[back]"+t)},start(t){console.log("start",t),this.channel.setHandle(this.callBack),this.channel.Config.platform=document.getElementById("inPlatform").value,this.channel.Config.PC.port=parseInt(document.getElementById("inPort").value),this.channel.Config.PC.host=document.getElementById("inIP").value,this.channel.init(),this.showLog("----start----")},close(t){console.log("close",t),this.channel.close()},sendButton(){var t=document.getElementById("msgInput").value;this.sendData(JSON.parse(t))},sendData(t){typeof t=="object"?this.showLog("[send]"+JSON.stringify(t)):this.showLog("[send]"+t);let e=t,i=this.channel.send(e.method,e.params,e.service);console.log("result::",i)}},setup(){console.log("-------------------------setup:");const t="hello aa!",e=new u(!1),i={},r=()=>{i.getVersion={jsonrpc:"2.0",method:"getVersion",params:[""],id:199,service:"service-global"},i.init={jsonrpc:"2.0",method:"init",params:["{}"],id:299,service:"service-global"},i.askAndAnswer={jsonrpc:"2.0",method:"askAndAnswer",params:["liam",{type:"JSON_RPC_CALLBACK",id:188}],id:399,service:"service-global"},i.listen={jsonrpc:"2.0",method:"listen",params:[{type:"JSON_RPC_CALLBACK",id:288},5,500],id:499,service:"service-global"},i.close={jsonrpc:"2.0",method:"close",params:[""],id:699,service:"service-global"}};let o=document.getElementById("msgInput"),n=document.getElementById("msgOutput");return g(()=>{console.log("run:onMounted link-channel"),r()}),{message:t,channel:e,db:i,inputMsg:o,outMsg:n}}},k=s("h1",null,"link-test-demo",-1),y=s("div",{class:"envBox"},null,-1),C={class:"buttonBox"},L=s("div",{class:"pcConfig"},[a(" \u5E73\u53F0:"),s("input",{id:"inPlatform",value:"auto"}),a(" pcIp:"),s("input",{id:"inIP",value:"localhost"}),a(" port:"),s("input",{id:"inPort",value:"52384"})],-1),B={class:"InOutBox"},I=a(" \u8F93\u5165\uFF1A "),O=s("textarea",{id:"msgInput",class:"InBox"},'{"jsonrpc":"2.0","method":"getVersion","params":[""],"id":199,"service":"service-global"}',-1),A=s("br",null,null,-1),w=s("div",null,"\u8F93\u51FA",-1),x=s("br",null,null,-1),P=s("div",{id:"msgOutput",class:"OutBox"},"output..",-1),N=s("div",null,[a(" \u652F\u63013\u7AEF\uFF1Apc,ios,android; "),s("br"),a('\u64CD\u4F5C\uFF1A\u70B9\u51FB"\u542F\u52A8"->\u70B9\u51FB"service-global.getVersion" ')],-1);function E(t,e,i,r,o,n){return c(),p(m,null,[k,y,s("div",C,[s("button",{onClick:e[0]||(e[0]=(...l)=>n.start&&n.start(...l))},"\u542F\u52A8"),s("button",{onClick:e[1]||(e[1]=(...l)=>n.close&&n.close(...l))},"\u505C\u6B62"),s("button",{onClick:e[2]||(e[2]=l=>n.sendData(this.db.getVersion))},"sg.getVersion"),s("button",{onClick:e[3]||(e[3]=l=>n.sendData(this.db.init))},"sg.init"),s("button",{onClick:e[4]||(e[4]=l=>n.sendData(this.db.askAndAnswer))},"sg.askAndAnswer"),s("button",{onClick:e[5]||(e[5]=l=>n.sendData(this.db.listen))},"sg.listen"),s("button",{onClick:e[6]||(e[6]=l=>n.sendData(this.db.close))},"sg.close"),s("button",{onClick:e[7]||(e[7]=(...l)=>n.clear&&n.clear(...l))},"\u6E05\u7A7A\u65E5\u5FD7")]),L,s("div",B,[s("div",null,[I,s("button",{id:"tsSend",onClick:e[8]||(e[8]=(...l)=>n.sendButton&&n.sendButton(...l))},"\u53D1\u9001")]),O,A,w,x,P,N])],64)}var M=d(b,[["render",E]]);const S={name:"App",components:{LinkChannel:M},setup(){}};function j(t,e,i,r,o,n){const l=h("LinkChannel");return c(),f(l,{msg:"link"})}var D=d(S,[["render",j]]);v(D).mount("#app");export{V as __vite_legacy_guard};
